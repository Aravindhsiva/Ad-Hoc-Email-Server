<div class="ahem-centered ahem-overflow">
  <mat-list *ngIf="!selectedEmail" class="ahem-email-list">
    <div *ngIf="(apiService.emails | async)?.length>0">
      <div *ngFor='let email of apiService.emails | async' (click)="clickedEmail(email)" class="ahem-email-list-item" [ngClass]="{'ahem-email-selected': email.isSelected }">
        <app-email-info [emailInfo]="email"></app-email-info>
        <mat-divider></mat-divider>
      </div>
    </div>
    <div *ngIf="(apiService.emails | async)?.length==0">
      <div>
        This mailbox is currently empty.
        EMails sent to {{getEmptyMailboxText()}} will be listed here.
        <br>
      </div>
      <img src="assets/svg/fumbled-bluish.svg" class="fumbled">
      <div>
        <p>
          To continue, send an email to: {{getEmptyMailboxText()}}, or use one of the following links:
        <ul>
          <li>
            <a [routerLink]="['/']">
              AHEM Home
            </a>
          </li>
          <li>
            <a [routerLink]="['/privacy']">
              Privacy policy
            </a>
          </li>
          <li>
            <a [routerLink]="['/help/api']">
              API Documentation
            </a>
          </li>
          <li>
            <a href="https://github.com/o4oren/Ad-Hoc-Email-Server" target="_blank">
              Our GitHub Home
            </a>
          </li>
        </ul>
      </div>
    </div>

  </mat-list>
  <app-email-view *ngIf="selectedEmail" [email]="selectedEmail" [loading]="true"></app-email-view>
</div>
